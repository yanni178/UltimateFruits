<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Ultimate Fruits - MAX ULTRA ADMIN</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(270deg, #0f2027, #203a43, #2c5364);
  background-size: 600% 600%;
  animation: gradientBG 15s ease infinite;
  color:white;
  text-align:center;
}

@keyframes gradientBG {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

header{
  background:#00ff88;
  color:black;
  padding:15px;
  font-size:24px;
  font-weight:bold;
  text-shadow:0 0 5px #000;
}

/* PRODUTOS */
.container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  padding:20px;
}

.card{
  background: rgba(0,0,0,0.75);
  margin:15px;
  padding:15px;
  width:220px;
  border-radius:15px;
  box-shadow: 0 0 20px #00ff88;
  transition: transform 0.3s, box-shadow 0.3s;
}

.card:hover{
  transform: scale(1.05) rotate(1deg);
  box-shadow: 0 0 30px #00ff88, 0 0 40px #00ff88;
}

button{
  background:#00ff88;
  border:none;
  padding:10px 15px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}

button:hover{
  background:#00cc6a;
}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background: rgba(0,0,0,0.85);
  justify-content:center;
  align-items:center;
  z-index:999;
}

.box{
  background:#111;
  padding:20px;
  border-radius:15px;
  width:350px;
  transform: scale(0);
  transition: transform 0.3s ease-in-out;
}

.modal.show .box{
  transform: scale(1);
}

input, select{
  width:95%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:none;
}

.valor{
  color:#00ff88;
  font-weight:bold;
  font-size:18px;
}

.pix-area{
  display:none;
  margin-top:10px;
}

.qr{
  margin:10px auto;
  background:white;
  padding:8px;
  width:150px;
}

/* CARRINHO */
#carrinho{
  position:fixed;
  top:20px;
  right:20px;
  background:rgba(0,0,0,0.8);
  padding:15px;
  border-radius:15px;
  width:220px;
  max-height:80%;
  overflow:auto;
  box-shadow:0 0 20px #00ff88;
}

#carrinho h3{
  margin-top:0;
  text-align:center;
}

.carrinho-item{
  display:flex;
  justify-content:space-between;
  margin:5px 0;
}

/* PAINEL ADMIN */
#adminPanel{
  position:fixed;
  top:20px;
  left:20px;
  background:rgba(0,0,0,0.9);
  padding:15px;
  border-radius:15px;
  width:300px;
  max-height:90%;
  overflow:auto;
  box-shadow:0 0 25px #ffcc00;
}

#adminPanel h3{
  margin-top:0;
  text-align:center;
  color:#ffcc00;
}

.admin-item{
  margin-bottom:10px;
  background:rgba(255,255,255,0.1);
  padding:6px;
  border-radius:8px;
}
</style>
</head>
<body>

<header>üî• Ultimate Fruits - ULTRA MAX ADMIN üî•</header>

<div class="container" id="produtosContainer"></div>

<!-- CARRINHO -->
<div id="carrinho">
<h3>Carrinho</h3>
<div id="itensCarrinho"></div>
<div class="valorTotal">Total: R$ <span id="total">0.00</span></div>
<button onclick="finalizarCarrinho()">Finalizar Compra</button>
</div>

<!-- MODAL DE COMPRA -->
<div class="modal" id="modal">
  <div class="box">
    <h3 id="produtoNome"></h3>
    <div class="valor" id="produtoValor"></div>

    <input id="nome" placeholder="Nome completo">
    <input id="cpf" placeholder="CPF">

    <select id="pagamento">
      <option>PIX</option>
      <option>Cart√£o</option>
    </select>

    <button onclick="adicionarCarrinho()">Adicionar ao Carrinho</button>
    <button onclick="fechar()">Cancelar</button>

    <div class="pix-area" id="pixArea">
      <p><b>Pague com PIX</b></p>
      <div class="qr">
        <img id="qrImg" width="140">
      </div>
      <input id="pixKey" value="46786167802" readonly>
      <button onclick="copiarPix()">üìã Copiar PIX</button>
    </div>
  </div>
</div>

<!-- PAINEL ADMIN -->
<div id="adminPanel">
<h3>Admin Painel</h3>
<div id="pedidosAdmin"></div>
</div>

<script>
// PRODUTOS
const produtos = [
  {nome:"Venom", valor:10},
  {nome:"Trex", valor:9.5},
  {nome:"Shadow", valor:8},
  {nome:"Yeti", valor:13.5}
];

// CARRINHO E PEDIDOS
let carrinho = [];
let pedidos = [];
let valorAtual = 0;
let produtoAtual = "";

const container = document.getElementById("produtosContainer");
produtos.forEach(p=>{
  const div = document.createElement("div");
  div.className="card";
  div.innerHTML=`<h3>${p.nome}</h3>
                 <p>R$ ${p.valor.toFixed(2)}</p>
                 <button onclick="comprar('${p.nome}',${p.valor})">Comprar</button>`;
  container.appendChild(div);
});

// ABRIR MODAL
function comprar(nome,valor){
  produtoAtual = nome;
  valorAtual = valor;

  const modal = document.getElementById("modal");
  modal.style.display="flex";
  modal.classList.add("show");

  document.getElementById("produtoNome").innerText = nome;
  document.getElementById("produtoValor").innerText = "Valor: R$ " + valor.toFixed(2);

  let chave="46786167802";
  document.getElementById("qrImg").src=
    "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=PIX:"+chave+"-R$"+valor;
}

function fechar(){
  const modal = document.getElementById("modal");
  modal.classList.remove("show");
  setTimeout(()=>{
    modal.style.display="none";
    document.getElementById("pixArea").style.display="none";
  },300);
}

function adicionarCarrinho(){
  let nomeUser=document.getElementById("nome").value.trim();
  let cpf=document.getElementById("cpf").value.trim();
  if(!nomeUser || !cpf){
    alert("Preencha Nome e CPF!");
    return;
  }

  carrinho.push({produto:produtoAtual,valor:valorAtual});
  atualizarCarrinho();
  fechar();
}

// ATUALIZA CARRINHO
function atualizarCarrinho(){
  const itens = document.getElementById("itensCarrinho");
  itens.innerHTML="";
  let total = 0;
  carrinho.forEach((item,index)=>{
    total += item.valor;
    const div = document.createElement("div");
    div.className="carrinho-item";
    div.innerHTML=`<span>${item.produto} R$${item.valor.toFixed(2)}</span>
                   <button onclick="remover(${index})">‚ùå</button>`;
    itens.appendChild(div);
  });
  document.getElementById("total").innerText = total.toFixed(2);
}

function remover(index){
  carrinho.splice(index,1);
  atualizarCarrinho();
}

// FINALIZAR CARRINHO
function finalizarCarrinho(){
  if(carrinho.length===0){
    alert("Carrinho vazio!");
    return;
  }

  let nomeUser=document.getElementById("nome").value.trim();
  let cpf=document.getElementById("cpf").value.trim();
  let pagamento=document.getElementById("pagamento").value;

  if(!nomeUser || !cpf){
    alert("Preencha Nome e CPF!");
    return;
  }

  // ADICIONA PEDIDO NO ADMIN
  pedidos.push({
    nome:nomeUser,
    cpf:cpf,
    itens:[...carrinho],
    total:carrinho.reduce((a,b)=>a+b.valor,0),
    pagamento:pagamento
  });
  atualizarAdmin();

  if(pagamento==="PIX"){
    document.getElementById("pixArea").style.display="block";
  } else{
    alert(`‚úÖ Compra no cart√£o simulada com sucesso!\nTotal: R$ ${carrinho.reduce((a,b)=>a+b.valor,0).toFixed(2)}`);
    carrinho=[];
    atualizarCarrinho();
  }
}

// ATUALIZA PAINEL ADMIN
function atualizarAdmin(){
  const painel = document.getElementById("pedidosAdmin");
  painel.innerHTML="";
  pedidos.forEach((p,i)=>{
    const div=document.createElement("div");
    div.className="admin-item";
    div.innerHTML=`<b>Pedido ${i+1}</b><br>
                   Nome: ${p.nome}<br>
                   CPF: ${p.cpf}<br>
                   Itens: ${p.itens.map(it=>it.produto).join(", ")}<br>
                   Total: R$ ${p.total.toFixed(2)}<br>
                   Pagamento: ${p.pagamento}`;
    painel.appendChild(div);
  });
}

// PIX
function copiarPix(){
  navigator.clipboard.writeText("46786167802");
  alert("PIX copiado!");
}
</script>

</body>
</html>
