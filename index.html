<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Ultimate Fruits</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:white;
  overflow-x:hidden;
  background:black;
}

/* FUNDO GAL√ÅCTICO */
canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:-1;
}

/* HEADER */
header{
  background:rgba(0,0,0,0.6);
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:22px;
  text-shadow:0 0 15px #00ffee;
}

.cart-btn{
  background:#00ffcc;
  color:black;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:bold;
}

/* PRODUTOS */
.container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  padding:20px;
}

.card{
  background:rgba(0,0,0,0.75);
  margin:12px;
  padding:15px;
  border-radius:18px;
  width:200px;
  box-shadow:0 0 20px #00ffcc;
  transition:.3s;
}

.card:hover{ transform:scale(1.05); }

.card img{
  width:100%;
  border-radius:12px;
}

button{
  background:linear-gradient(45deg,#00ffcc,#00ff88);
  border:none;
  padding:8px;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
  width:100%;
  margin-top:6px;
}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  z-index:999;
  width:100%;
  height:100%;
  background:rgba(0,0,0,.9);
  justify-content:center;
  align-items:center;
}

.modal-box{
  background:#111;
  padding:20px;
  border-radius:15px;
  width:340px;
  box-shadow:0 0 25px #00ffcc;
  max-height:90vh;
  overflow:auto;
}

input,select{
  width:100%;
  padding:8px;
  margin:6px 0 10px 0;
  border-radius:6px;
  border:none;
}

.total{
  font-size:18px;
  color:#00ffcc;
  margin:8px 0;
}

.pix{
  background:#000;
  padding:10px;
  border-radius:8px;
  text-align:center;
  margin-top:8px;
  color:#00ffcc;
  font-weight:bold;
}

.close{
  background:red;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<header>
üî• Ultimate Fruits üî•
<div class="cart-btn" onclick="abrirCarrinho()">
üõí (<span id="count">0</span>)
</div>
</header>

<div class="container" id="produtos"></div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h2>Finalizar Pedido</h2>

    <div id="lista"></div>
    <div class="total" id="total"></div>

    <label>Nome</label>
    <input id="nome">

    <label>CPF</label>
    <input>

    <label>Pagamento</label>
    <select onchange="mostrarPix(this.value)">
      <option value="">Selecione</option>
      <option value="pix">PIX</option>
    </select>

    <div id="pixArea" style="display:none;">
      <div class="pix">
        PIX: 46786167802
        <br><br>
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=46786167802">
      </div>
    </div>

    <button onclick="finalizar()">Confirmar</button>
    <button class="close" onclick="fecharCarrinho()">Fechar</button>
  </div>
</div>

<script>
const produtos=[
{name:"Venom",preco:10,img:"https://i.imgur.com/xRix2sP.png"},
{name:"Trex",preco:9.5,img:"https://i.imgur.com/3YJ0p6t.png"},
{name:"Shadow",preco:8,img:"https://i.imgur.com/vcZ0Qqg.png"},
{name:"Yeti",preco:13.5,img:"https://i.imgur.com/BOjQnPX.png"}
];

let carrinho=JSON.parse(localStorage.getItem("carrinho"))||[];

function salvar(){
localStorage.setItem("carrinho",JSON.stringify(carrinho));
}

function renderProdutos(){
let area=document.getElementById("produtos");
area.innerHTML="";
produtos.forEach((p,i)=>{
area.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p>R$ ${p.preco.toFixed(2)}</p>
<button onclick="add(${i})">Adicionar</button>
</div>
`;
});
}

function add(i){
carrinho.push(produtos[i]);
salvar();
updateCount();
}

function updateCount(){
document.getElementById("count").innerText=carrinho.length;
}

function abrirCarrinho(){
document.getElementById("modal").style.display="flex";
renderCarrinho();
}

function fecharCarrinho(){
document.getElementById("modal").style.display="none";
}

function renderCarrinho(){
let lista=document.getElementById("lista");
lista.innerHTML="";
let total=0;
carrinho.forEach(p=>{
total+=p.preco;
lista.innerHTML+=`‚Ä¢ ${p.name} - R$ ${p.preco.toFixed(2)}<br>`;
});
document.getElementById("total").innerText="Total: R$ "+total.toFixed(2);
}

function mostrarPix(v){
document.getElementById("pixArea").style.display=
v==="pix"?"block":"none";
}

function finalizar(){
alert("Pedido registrado! Ap√≥s pagamento via PIX, aguarde.");
carrinho=[];
salvar();
updateCount();
fecharCarrinho();
}

renderProdutos();
updateCount();

/* FUNDO ESTRELAS */
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<150;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
size:Math.random()*2,
speed:Math.random()*0.5
});
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.size,0,Math.PI*2);
ctx.fill();
s.y+=s.speed;
if(s.y>canvas.height)s.y=0;
});
requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>
